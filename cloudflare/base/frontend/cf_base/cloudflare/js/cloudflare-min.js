var CloudFlare=function(){return CloudFlare.init()};CloudFlare.fn=CloudFlare.prototype={},CloudFlare.$=CF_jQuery,_.extend(CloudFlare,{ACTIVE_DOMAIN:null,reset_form:function(){this.VALID=[],this.CF_RECS={},this.NUM_RECS=0,this.REC_TEXT=[],this.WWW_DOM_INFO=[]},set_domain:function(a){this.ACTIVE_DOMAIN=a,null==this.ACTIVE_DOMAIN?$("#add_record_and_zone_table").slideUp(CPANEL.JQUERY_ANIMATION_SPEED):($("#add_record_and_zone_table").slideDown(CPANEL.JQUERY_ANIMATION_SPEED),this.update_user_records_table())},get_lang_string:function(a,b){var c=CF_LANG[a],b=b||{};if(c)try{return YAHOO.lang.substitute(c,b)}catch(d){}return""},display_error:function(a,b,c){$=CloudFlare.$;var d=$("#cloudflare-error");d.length>0?(html=CFT.error({type:a,header:b,message:c}),$(html).appendTo(d).delay(8e3).queue(function(){console.log($(this)),$(this).slideUp()})):alert(c)},showHelp:function(a){var b=CF_LANG.help[a]||"Error loading help message";if("DN"in window){var c;"CF"in window&&"lightbox"in window.CF?(c=window.CF.lightbox,c.cfg.contentString=b):(window.CF=window.CF||{},window.CF.lightbox=c=new DN.Lightbox({contentString:b,animate:!1,maxWidth:500})),c.show.call(c,this)}return!1},ajax:function(a,b,c,d){var a=a||{},d=d||{},b=b||{};_.extend(a,{cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"user_create",homedir:USER_HOME_DIR}),console.log(a),_.extend(d,{url:CPANEL.urls.json_api(),data:a,success:function(a){try{console.log(a);{$.parseJSON(o.responseText)}b.success&&"function"==typeof b.success&&b.success(a)}catch(c){b.error&&"function"==typeof b.error&&b.error(a)}},error:function(a){console.log(a),b.error&&"function"==typeof b.error&&b.error(a),this.display_error("error",CPANEL.lang.Error,CPANEL.lang.ajax_try_again)}}),console.log(d),$.ajax(d)},signup_to_cf:function(){var a,b,c,d=YAHOO.util.Dom.get("USER_tos").checked;if(!d)return CloudFlare.display_error("error",CPANEL.lang.Error,"Please agree to the Terms of Service before continuing."),!1;var e={user:YAHOO.util.Dom.get("USER_user").value,email:YAHOO.util.Dom.get("USER_email").value,password:YAHOO.util.Dom.get("USER_pass").value},f={success:function(c){try{var d=YAHOO.lang.JSON.parse(c.responseText);console.log(c),d.cpanelresult.error?(YAHOO.util.Dom.get("add_USER_record_status").innerHTML="",CloudFlare.display_error("add_USER_status_bar","error",CPANEL.lang.Error,d.cpanelresult.error)):"success"==d.cpanelresult.data[0].result?(a=this.get_lang_string("signup_welcome"),b=this.get_lang_string("signup_info",{email:email}),YAHOO.util.Dom.get("add_USER_record_status").innerHTML="",CloudFlare.display_error("add_USER_status_bar","success",a,b),setTimeout("window.location.reload(true)",1e4)):(YAHOO.util.Dom.setStyle("add_USER_record_button","display","block"),124==d.cpanelresult.data[0].err_code?(YAHOO.util.Dom.setStyle("cf_pass_noshow","display","block"),YAHOO.util.Dom.get("add_USER_record_status").innerHTML="",CloudFlare.display_error("add_USER_status_bar","error",CPANEL.lang.Error,"This email is already signed up with CloudFlare. Please provide the user's CloudFlare password to continue.")):(YAHOO.util.Dom.get("add_USER_record_status").innerHTML="",CloudFlare.display_error("add_USER_status_bar","error",CPANEL.lang.Error,d.cpanelresult.data[0].msg.replace(/\\/g,""))))}catch(e){YAHOO.util.Dom.get("add_USER_record_status").innerHTML="",CloudFlare.display_error("add_USER_status_bar","error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed)}},error:function(){$("#add_USER_record_button").show(),$("#add_USER_record_status").html("")}};CloudFlare.ajax(e,f),$("#add_USER_record_button").hide(),c=CloudFlare.get_lang_string("creating_account"),$("#add_USER_record_status").html(CPANEL.icons.ajax+" "+c)},add_validation:function(){},update_zones:function(a,b,c,d){var e={success:function(b){console.log(b);try{var c=YAHOO.lang.JSON.parse(b.responseText);c.cpanelresult.error?CloudFlare.update_user_records_table(function(){CloudFlare.display_error("status_bar_"+a,"error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed)}):"error"==c.cpanelresult.data[0].result?CloudFlare.update_user_records_table(function(){CloudFlare.display_error("status_bar_"+a,"error",CPANEL.lang.json_error,c.cpanelresult.data[0].msg.replace(/\\/g,""))}):CloudFlare.update_user_records_rows([a])}catch(d){CloudFlare.update_user_records_table(function(){CloudFlare.display_error("status_bar_"+a,"error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed)})}},failure:function(b){console.log(b),YAHOO.util.Dom.get("status_bar_"+a).innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}},f=[];for(key in this.CF_RECS)this.CF_RECS[key]&&f.push(key);var g={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"zone_set",zone_name:this.ACTIVE_DOMAIN,user_key:USER_ID,subdomains:f.join(","),cf_recs:YAHOO.lang.JSON.stringify(this.CF_RECS),homedir:USER_HOME_DIR};c&&(g.old_rec=c,g.old_line=d),YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(g),e,""),YAHOO.util.Dom.get("cloudflare_table_edit_"+a).innerHTML='<div style="padding: 20px">'+CPANEL.icons.ajax+" "+CPANEL.lang.ajax_loading+"</div>"},toggle_record_off:function(a,b,c){this.CF_RECS[b]=0,this.update_zones(a,"",b,c)},toggle_record_on:function(a,b,c){if(this.CF_ON_CLOUD_MESSAGE){var d=60,e="message",f="cf-toggle-on";$.cf.notify(this.CF_ON_CLOUD_MESSAGE,e,d,f)}this.CF_RECS[b]=c,this.update_zones(a,"_off")},is_domain_cf_powered:function(a){for(var b=!1,c=0,d=a.length;d>c;c++)if(a[c].type.match(/^(CNAME)$/)&&a[c].cloudflare){b=!0;break}return b},build_dnszone_cache:function(a){NUM_RECS=a.length;for(var b=this.get_lang_string("tooltip_zone_cf_on"),c=this.get_lang_string("tooltip_zone_cf_off"),d=0;d<a.length;d++)a[d].type.match(/^(CNAME)$/)&&(1==a[d].cloudflare?(this.CF_RECS[a[d].name]=a[d].line,this.REC_TEXT[d]=b):this.REC_TEXT[d]=c,a[d].name.match(/^(www\.)/)&&(this.WWW_DOM_INFO=[d,a[d].name,a[d].line]))},build_dnszone_table_markup:function(a){var b=this.ACTIVE_DOMAIN;return a.length<1?"":(this.build_dnszone_cache(a),html=CFT.zones({records:a}),this.NUM_RECS>0&&(zone_row=CFT.zone({cloudflare:this.is_domain_cf_powered(a),domain:b}),$('tr[data-zone="'+b+'"').replaceWith(zone_row)),html)},update_user_records_rows:function(a,b){var c=this.ACTIVE_DOMAIN,d={success:function(d){try{var e=YAHOO.lang.JSON.parse(d.responseText);if(e.cpanelresult.error)YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>";else if(e.cpanelresult.data){CloudFlare.build_dnszone_cache(e.cpanelresult.data);for(var f=0,g=a.length;g>f;f++){var h=a[f],i=CFT.zone_record({type:"CNAME",rec_num:h,record:e.cpanelresult.data[h]});$("#info_row_"+h).html(i),new YAHOO.widget.Tooltip("tt_cf_enabled_"+h,{context:"cloudflare_table_edit_"+h,text:REC_TEXT[h],showDelay:300})}CloudFlare.NUM_RECS>0&&(zone_row=CFT.zone({cloudflare:CloudFlare.is_domain_cf_powered(e.cpanelresult.data),domain:c}),$('tr[data-zone="'+c+'"').replaceWith(zone_row)),b&&b();var j=YAHOO.util.Dom.getY("user_records_div");window.scrollTo(0,j)}else YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}catch(k){CloudFlare.display_error("add_CNAME_status_bar","error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed)}},failure:function(){YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}},e={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"fetchzone",domain:this.ACTIVE_DOMAIN,homedir:USER_HOME_DIR};YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(e),d,"");for(var f=0,g=a.length;g>f;f++){var h=a[f];YAHOO.util.Dom.get("cloudflare_table_edit_"+h).innerHTML='<div style="padding: 20px">'+CPANEL.icons.ajax+" "+CPANEL.lang.ajax_loading+"</div>"}},update_user_records_table:function(a){var b={success:function(b){try{var c=YAHOO.lang.JSON.parse(b.responseText);if(c.cpanelresult.error)YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>";else if(c.cpanelresult.data){var d=CloudFlare.build_dnszone_table_markup(c.cpanelresult.data);YAHOO.util.Dom.get("user_records_div").innerHTML='<a name="user_recs_'+this.ACTIVE_DOMAIN+'"></a>'+d;for(var e=0;e<CloudFlare.NUM_RECS;e++)new YAHOO.widget.Tooltip("tt_cf_enabled_"+e,{context:"cloudflare_table_edit_"+e,text:CloudFlare.REC_TEXT[e],showDelay:300});a&&a();var f=YAHOO.util.Dom.getY("user_records_div");window.scrollTo(0,f)}else YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}catch(g){console.log(g),console.log(this),console.log(CloudFlare),CloudFlare.display_error("add_CNAME_status_bar","error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed)}},failure:function(){YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}},c={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"fetchzone",domain:this.ACTIVE_DOMAIN,homedir:USER_HOME_DIR};YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(c),b,""),YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.ajax+" "+CPANEL.lang.ajax_loading+" [This may take several minutes]</div>"},refresh_records:function(a){var b={success:function(b){try{var c=YAHOO.lang.JSON.parse(b.responseText);c.cpanelresult.error?YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>":c.cpanelresult.data?(CloudFlare.build_dnszone_cache(c.cpanelresult.data),a&&a()):YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}catch(d){CloudFlare.display_error("add_CNAME_status_bar","error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed)}},failure:function(){YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}},c={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"fetchzone",domain:this.ACTIVE_DOMAIN,homedir:USER_HOME_DIR};YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(c),b,""),YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.ajax+" "+CPANEL.lang.ajax_loading+" [This may take several minutes]</div>"},push_all_off:function(){var a={success:function(a){try{var b=YAHOO.lang.JSON.parse(a.responseText);b.cpanelresult.error?CloudFlare.update_user_records_table(function(){CloudFlare.display_error("status_bar_0","error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed)}):"error"==b.cpanelresult.data[0].result?CloudFlare.update_user_records_table(function(){CloudFlare.display_error("status_bar_0","error",CPANEL.lang.json_error,b.cpanelresult.data[0].msg.replace(/\\/g,""))}):CloudFlare.update_user_records_table()}catch(c){CloudFlare.update_user_records_table(function(){CloudFlare.display_error("status_bar_0","error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed)})}},failure:function(){YAHOO.util.Dom.get("status_bar_0").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}},b=[];for(key in this.CF_RECS)this.CF_RECS[key]&&b.push(key+":"+CF_RECS[key]);var c={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"zone_delete",zone_name:this.ACTIVE_DOMAIN,user_key:USER_ID,subdomains:b.join(","),homedir:USER_HOME_DIR};YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(c),a,"")},toggle_www_on:function(a){this.reset_form(),this.ACTIVE_DOMAIN=a;var b=function(){CloudFlare.WWW_DOM_INFO[2]&&CloudFlare.toggle_record_on(CloudFlare.WWW_DOM_INFO[0],CloudFlare.WWW_DOM_INFO[1],CloudFlare.WWW_DOM_INFO[2])};return this.update_user_records_table(b),!1},toggle_all_off:function(a){return this.reset_form(),this.ACTIVE_DOMAIN=a,this.refresh_records(this.push_all_off),!1},enable_domain:function(a){return this.reset_form(),console.log(a),this.set_domain(a),!1},change_cf_accnt:function(){window.open("https://www.cloudflare.com/cloudflare-settings.html?z="+this.ACTIVE_DOMAIN,"_blank")},change_cf_setting:function(a,b,c){this.ACTIVE_DOMAIN=a;var d={success:function(b){try{var c=YAHOO.lang.JSON.parse(b.responseText);if(c.cpanelresult.error)YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>";else{if("error"!=c.cpanelresult.data[0].result)return CloudFlare.get_stats(a),!1;YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+c.cpanelresult.data[0].msg+"</div>"}}catch(d){YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+d+"</div>"}},failure:function(){YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}};"SecurityLevelSetting"==c?c=YAHOO.util.Dom.get(c).value:"AlwaysOnline"==c?c=YAHOO.util.Dom.get(c).value:"AutomaticIPv6"==c?c=YAHOO.util.Dom.get(c).value:"CachingLevel"==c&&(c=YAHOO.util.Dom.get(c).value);var e={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"zone_edit_cf_setting",zone_name:this.ACTIVE_DOMAIN,user_email:USER_EMAIL,user_api_key:USER_API_KEY,v:c,a:b,homedir:USER_HOME_DIR};return YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(e),d,""),!1},hide_a_help:function(a){YAHOO.util.Dom.get("module_row_a_"+a).innerHTML='<td colspan="7"></td>',OPEN_HELP=-1},show_a_help:function(a,b){return OPEN_HELP>=0&&(YAHOO.util.Dom.get("module_row_a_"+OPEN_HELP).innerHTML='<td colspan="7"></td>'),YAHOO.util.Dom.get("module_row_a_"+a).innerHTML='<td colspan="7"><div style="padding: 20px">A type records cannot be directly routed though the CloudFlare network. Instead, click <a href="../zoneedit/advanced.html">here</a> and either switch the type of '+b+" to CNAME, or else make a new CNAME record pointing to "+b+"</div></td>",OPEN_HELP=a,!1},set_railgun:function(a,b){this.ACTIVE_DOMAIN=a;var c={success:function(b){try{var c=YAHOO.lang.JSON.parse(b.responseText);if(c.cpanelresult.error)YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>";else{if("error"!=c.cpanelresult.data[0].result)return get_stats(a),!1;YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+c.cpanelresult.data[0].msg+"</div>"}}catch(d){YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+d+"</div>"}},failure:function(){YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}};tag=YAHOO.util.Dom.get(b).value;var d="set_railgun";"remove"==tag&&(d="remove_railgun");var e={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:d,zone_name:this.ACTIVE_DOMAIN,user_email:USER_EMAIL,user_api_key:USER_API_KEY,tag:tag,homedir:USER_HOME_DIR};return YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(e),c,""),!1},set_railgun_mode:function(a,b,c){this.ACTIVE_DOMAIN=a;var d={success:function(b){try{var c=YAHOO.lang.JSON.parse(b.responseText);if(c.cpanelresult.error)YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>";else{if("error"!=c.cpanelresult.data[0].result)return get_stats(a),!1;YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+c.cpanelresult.data[0].msg+"</div>"}}catch(d){YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+d+"</div>"}},failure:function(){YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}};tag=YAHOO.util.Dom.get(b).value;var e="enabled";"0"==YAHOO.util.Dom.get(c).value&&(e="disabled");var f={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"set_railgun_mode",zone_name:this.ACTIVE_DOMAIN,user_email:USER_EMAIL,user_api_key:USER_API_KEY,tag:tag,mode:e,homedir:USER_HOME_DIR};return YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(f),d,""),!1},get_stats:function(a){this.reset_form(),this.ACTIVE_DOMAIN=a;var b={success:function(b){function c(){var a={success:function(a){try{var b=YAHOO.lang.JSON.parse(a.responseText);g=a,b.cpanelresult.error?console.log("Hey, it didn't work."):"error"==b.cpanelresult.data[0].result?console.log("Seriously, it didn't work."):f=null==b.cpanelresult.data[0].response.railgun_conn.obj?null:b.cpanelresult.data[0].response.railgun_conn.obj}catch(c){console.log("It was an exception. Happy?")}},failure:function(){console.log("It failed.")}},b={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"get_active_railguns",zone_name:this.ACTIVE_DOMAIN,user_email:USER_EMAIL,user_api_key:USER_API_KEY,homedir:USER_HOME_DIR};connection=YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(b),a,"")}function d(b){var c="";if(null!=b){j=b,c+='<div class="control-label"><label>Railgun <span class="text-info"><i class="icon icon-info-sign" onclick="CloudFlare.showHelp(\'railgun\')"></i></span></label></div>',c+='<div class="controls">',c+='<select name="Railgun" id="Railgun" onChange="set_railgun(\''+a+"','Railgun')\">",c+='<option value="remove">Railgun Not Selected</option>';for(var d=!1,e=!1,g=0;g<j.length;g++)c+='<option value="'+j[g].railgun_tag+'" ',null!=f&&f.railgun_pubname==j[g].railgun_pubname&&(c+="selected",e=!0),c+=">"+j[g].railgun_pubname,"0"==j[g].railgun_mode&&(c+=" (Disabled)",d=!0),c+="</option>";c+="</select>",e&&(d||(c+=" ",c+='<select name="RailgunStatus" id="RailgunStatus" onChange="set_railgun_mode(\''+a+"','Railgun', 'RailgunStatus')\">",c+='<option value="0">Off</option>',c+='<option value="1"'+("1"==f.railgun_conn_mode?"selected":"")+">On</option>",c+="</select>")),YAHOO.util.Dom.get("rglist").innerHTML=c}}try{var e=YAHOO.lang.JSON.parse(b.responseText);if(console.log(e),e.cpanelresult.error)YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>";else if("error"==e.cpanelresult.data[0].result)YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+e.cpanelresult.data[0].msg+"</div>";else{var f,g;if(c(a),void 0!=typeof e.cpanelresult.data[0].response.result){var h=e.cpanelresult.data[0].response.result,i=h.objs[0];html=CFT.statistics({stats:i,result:h}),html+=CFT.performance(i)}YAHOO.util.Dom.get("user_records_div").innerHTML=html;var j;setTimeout(function(){var a={success:function(a){try{var b=YAHOO.lang.JSON.parse(a.responseText);b.cpanelresult.error?console.log("Hey, it didn't work."):"error"==b.cpanelresult.data[0].result?console.log("Seriously, it didn't work."):d(b.cpanelresult.data[0].response.railguns.objs)}catch(c){console.log("It was an exception. Happy?")}},failure:function(){console.log("It failed.")}},b={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"get_railguns",zone_name:this.ACTIVE_DOMAIN,user_email:USER_EMAIL,user_api_key:USER_API_KEY,homedir:USER_HOME_DIR};connection=YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(b),a,"")},500)}}catch(k){console.log(k),YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+k+"</div>"}},failure:function(){YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}},c=[];for(key in this.CF_RECS)this.CF_RECS[key]&&c.push(key);var d={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"CloudFlare",cpanel_jsonapi_func:"zone_get_stats",zone_name:this.ACTIVE_DOMAIN,user_email:USER_EMAIL,user_api_key:USER_API_KEY,homedir:USER_HOME_DIR};return YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(d),b,""),YAHOO.util.Dom.get("user_records_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.ajax+" "+CPANEL.lang.ajax_loading+"</div>",!1},init:function(){this.reset_form();var a=document.getElementById("USER_submit");return YAHOO.util.Event.addListener(a,"click",this.signup_to_cf),this.add_validation(),null!=this.ACTIVE_DOMAIN&&this.update_user_records_table(),CloudFlare.$(document).on("click",".toggle",function(){$target=$("#"+$(this).attr("data-target")),$target.removeClass("hide"),$(this).hasClass("show")?$target.show():$(this).hasClass("hide-only")?$target.hide():$target.toggle()}),this}}),CloudFlare.$(function(){window.CF=new CloudFlare});